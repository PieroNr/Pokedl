import{G as d,V as _,D as L,T as g,S as I,a}from"./VictoryRain-6h4ExX5b.js";import{_ as l,o as i,c as s,b as f,t as S,f as m,d as w,r as t,e as n,g as T,F as B}from"./index-j7U-Z9c2.js";const N={props:{pokemon:Object},data(){return{definitions:[]}},methods:{replaceNameByDotInDescription(e){if(this.pokemon)return e.replace(this.pokemon.name,"-----")}},mounted(){}},$={class:"definition container"},C={key:0,class:"definition-container"};function v(e,o,r,p,u,c){return i(),s("div",$,[r.pokemon?(i(),s("div",C,[f("p",null,S(c.replaceNameByDotInDescription(r.pokemon.description[0].flavor_text)),1)])):m("",!0)])}const V=l(N,[["render",v],["__scopeId","data-v-2d041135"]]),W=w({name:"Description",computed:{Gamemodes(){return d}},components:{Definition:V,VictoryRain:_,DifficultySelector:L,TriedPokemonList:g,SearchBar:I},data(){return{pokemon:null,searchedPokemon:null,difficulty:1,maxDifficulty:1,currentPokemonList:[],filteredPokemonList:[],isWin:!1,searchTerm:"",triedPokemons:[]}},methods:{async getDailyPokemon(){try{const{pokemon:e,pokemonList:o}=await a.getDailyPokemon(this.difficulty,d.DEFINITION);this.pokemon=e,console.log(e),this.currentPokemonList=o}catch(e){console.error("Error:",e)}},updateDifficulty(e){this.difficulty=e,this.refreshList()},refreshList(){this.getDailyPokemon(),this.filteredPokemonList=[],this.triedPokemons=[]},filterPokemonList(){const e=this.searchTerm.toLowerCase();if(!e)return this.filteredPokemonList=[];this.filteredPokemonList=this.currentPokemonList.filter(o=>o.name.toLowerCase().startsWith(e))},win(){this.isWin=!0},Continue(){this.isWin=!1,this.refreshList(),this.$router.push({name:"Motus"})},async tryPokemon(e){var o;this.searchTerm=e.name,this.filteredPokemonList=[],this.searchedPokemon=await a.getPokemonById(e.pokedexId),this.triedPokemons.unshift(this.searchedPokemon),e.pokedexId==((o=this.pokemon)==null?void 0:o.pokedexId)&&this.win(),this.searchTerm=""}},async created(){this.maxDifficulty=await a.getLastGenNumber(),await this.getDailyPokemon()}}),G={class:"definition container"},b={key:0,class:"definition-pokemon"};function E(e,o,r,p,u,c){const k=t("Definition"),h=t("DifficultySelector"),y=t("SearchBar"),P=t("TriedPokemonList"),D=t("VictoryRain");return i(),s(B,null,[f("div",G,[e.pokemon?(i(),s("div",b,[n(k,{pokemon:e.pokemon},null,8,["pokemon"]),n(h,{"max-difficulty":e.maxDifficulty,onDifficultyUpdated:e.updateDifficulty},null,8,["max-difficulty","onDifficultyUpdated"]),n(y,{"pokemon-list":e.currentPokemonList,onPokemonSelected:e.tryPokemon,"is-win":e.isWin},null,8,["pokemon-list","onPokemonSelected","is-win"]),n(P,{"tried-pokemons":e.triedPokemons,pokemon:e.pokemon,gamemode:e.Gamemodes.DEFINITION},null,8,["tried-pokemons","pokemon","gamemode"])])):m("",!0)]),e.isWin?(i(),T(D,{key:0,trigger:e.isWin,onContinue:e.Continue},null,8,["trigger","onContinue"])):m("",!0)],64)}const R=l(W,[["render",E]]);export{R as default};
