import{G as r,V as h,D as u,T as p,S as y,a as n}from"./VictoryRain-rsfJ_ONH.js";import{D as P}from"./Definition-2X73qUs4.js";import{d as D,_ as L,r as i,o as s,c as a,b as g,e as t,f as m,g as w,F as S}from"./index-pApnUp1K.js";const T=D({name:"Description",computed:{Gamemodes(){return r}},components:{Definition:P,VictoryRain:h,DifficultySelector:u,TriedPokemonList:p,SearchBar:y},data(){return{pokemon:null,searchedPokemon:null,difficulty:1,maxDifficulty:1,currentPokemonList:[],filteredPokemonList:[],isWin:!1,searchTerm:"",triedPokemons:[]}},methods:{async getDailyPokemon(){try{const{pokemon:e,pokemonList:o}=await n.getDailyPokemon(this.difficulty,r.DEFINITION);this.pokemon=e,console.log(e),this.currentPokemonList=o}catch(e){console.error("Error:",e)}},updateDifficulty(e){this.difficulty=e,this.refreshList()},refreshList(){this.getDailyPokemon(),this.filteredPokemonList=[],this.triedPokemons=[]},filterPokemonList(){const e=this.searchTerm.toLowerCase();if(!e)return this.filteredPokemonList=[];this.filteredPokemonList=this.currentPokemonList.filter(o=>o.name.toLowerCase().startsWith(e))},win(){this.isWin=!0},Continue(){this.isWin=!1,this.refreshList(),this.$router.push({name:"Shadow"})},async tryPokemon(e){var o;this.searchTerm=e.name,this.filteredPokemonList=[],this.searchedPokemon=await n.getPokemonById(e.pokedexId),this.triedPokemons.unshift(this.searchedPokemon),e.pokedexId==((o=this.pokemon)==null?void 0:o.pokedexId)&&this.win(),this.searchTerm=""}},async created(){this.maxDifficulty=await n.getLastGenNumber(),await this.getDailyPokemon()}}),I={class:"definition container"},_={key:0,class:"definition-pokemon"};function C(e,o,B,N,V,W){const c=i("Definition"),d=i("DifficultySelector"),l=i("SearchBar"),f=i("TriedPokemonList"),k=i("VictoryRain");return s(),a(S,null,[g("div",I,[e.pokemon?(s(),a("div",_,[t(c,{pokemon:e.pokemon},null,8,["pokemon"]),t(d,{"max-difficulty":e.maxDifficulty,onDifficultyUpdated:e.updateDifficulty},null,8,["max-difficulty","onDifficultyUpdated"]),t(l,{"pokemon-list":e.currentPokemonList,onPokemonSelected:e.tryPokemon,"is-win":e.isWin},null,8,["pokemon-list","onPokemonSelected","is-win"]),t(f,{"tried-pokemons":e.triedPokemons,pokemon:e.pokemon,gamemode:e.Gamemodes.DEFINITION},null,8,["tried-pokemons","pokemon","gamemode"])])):m("",!0)]),e.isWin?(s(),w(k,{key:0,trigger:e.isWin,onContinue:e.Continue},null,8,["trigger","onContinue"])):m("",!0)],64)}const E=L(T,[["render",C]]);export{E as default};
